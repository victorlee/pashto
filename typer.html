<!DOCTYPE html>
<html>
<head>
    <title>Pashto typer</title>
<meta charset="utf-8">

    <script type="text/javascript">
	  



var conversion = {
"`":"\u200C",
"-":"ـ",
"a":"ا",
"aa":"آ",
"b":"ب",
"p":"پ",
"t":"ت",
"to":"ټ",
"th":"ث",
"j":"ج",
"c":"چ",
"H":"ح",
"x":"خ",
"ts":"څ",
"dz":"ځ",
"d":"د",
"do":"ډ",
"dh":"ذ",
"r":"ر",
"ro":"ړ",
"z":"ز",
"zh":"ژ",
"R":"ږ",
"s":"س",
"sh":"ش",
"X":"ښ",
"S":"ص",
"D":"ض", // phon. /z/
"T":"ط",
"Z":"ظ",
"C":"ع",
"gh":"غ",
"f":"ف",
"q":"ق",
"k":"ک",
"g":"ګ",
"ko":"ګ",
"G":"گ",
"l":"ل",
"m":"م",
"n":"ن",
"no":"ڼ",
"u":"و",
"w":"و",
"W":"ؤ",
"h":"ه",
"v":"ۀ",
"i":"ي",
"e":"ې",
"y":"ی",
"E":"ے",
"Y":"ۍ",
"y'":"ئ",

"t`h":"\u062A\u0647",
"d`h":"\u062F\u0647",
"z`h":"\u0632\u0647",
"s`h":"\u0633\u0647",
"g`h":"\u06AB\u0647",
"t`s":"تس",
"t`sh":"تش",
"d`z":"دز",
"d`zh":"دژ",

"A":"\u064E",
"I":"\u0650",
"U":"\u064F",
"V":"\u0659",

",":"،",
";":"؛",
"?":"؟",
"0":"۰",
"1":"۱",
"2":"۲",
"3":"۳",
"4":"۴",
"5":"۵",
"6":"۶",
"7":"۷",
"8":"۸",
"9":"۹",
};

var conversion2 = {
"ـ":"\u200C",

"ا":"[alif]",

"با":"bā",
"پا":"pā",
"تا":"tā",
"ټا":"ṭā",
"ثا":"sā",
"جا":"jā",
"چا":"čā",
"حا":"hā",
"خا":"xā",
"څا":"tsā",
"ځا":"dzā",
"دا":"dā",
"ډا":"ḍā",
"ذا":"zā",
"را":"rā",
"ړا":"ṛā",
"زا":"zā",
"ژا":"žā",
"ږا":"ǵā",
"سا":"sā",
"شا":"šā",
"ښا":"x̌ā",
"صا":"sā",
"ضا":"zā",
"طا":"tā",
"ظا":"zā",
"عا":"‌ā",
"غا":"ğā",
"فا":"fā",
"قا":"qā",
"کا":"kā",
"ګا":"gā",
"گا":"gā",
"لا":"lā",
"ما":"mā",
"نا":"nā",
"ڼا":"ṇā",
"وا":"wā",
"ها":"hā",
"یا":"yā",

"ُو":"o",
"ِی":"i",
"َه":"a",
"ٙۀ":"ə",

"او":"o",
"ای":"i",

"اَ":"a",
"اِ":"i",
"اُ":"u",




"آ":"ā",
"ب":"b",
"پ":"p",
"ت":"t",
"ټ":"ṭ",
"ث":"s",
"ج":"j",
"چ":"č",
"ح":"h",
"خ":"x",
"څ":"ts",
"ځ":"dz",
"د":"d",
"ډ":"ḍ",
"ذ":"z",
"ر":"r",
"ړ":"ṛ",
"ز":"z",
"ژ":"ž",
"ږ":"ǵ",
"س":"s",
"ش":"š",
"ښ":"x̌",
"ص":"s",
"ض":"z",
"ط":"t",
"ظ":"z",
"ع":"\u200C",
"غ":"ğ",
"ف":"f",
"ق":"q",
"ک":"k",
"ګ":"g",
"گ":"g",
"ل":"l",
"م":"m",
"ن":"n",
"ڼ":"ṇ",
"و":"w", // vowels
"ه":"h", // final -a
"ۀ":"ə",
"ي":"i",
"ې":"e",
"ی":"y",
"ے":"ay",
"ۍ":"əy",
"ئ":"əy",
"ئي":"yi",
"َ":"a",
"ِ":"i",
"ُ":"u",
"ٙ":"ə",

"َؤ":"w",

"":"",
"":"",
"":"",
"":"",
"":"",
"":"",
"":"",
"":"",
"":"",
"":"",



"،":"\u002c",
"؛":";",
"؟":"?",
"۰":"0",
"۱":"1",
"۲":"2",
"۳":"3",
"۴":"4",
"۵":"5",
"۶":"6",
"۷":"7",
"۸":"8",
"۹":"9",


};




 var maxLength = Object.keys(conversion)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert (text) {
    var converted = "";
    var cur = 0;
    while (cur < text.length) {
      var testedPhoneme;
      var symbol = undefined;
      for (var length = maxLength; length > 0; length --) {
        testedPhoneme = text.substr(cur, length);
        if (conversion[testedPhoneme]) {
          symbol = conversion[testedPhoneme];
          break; // stop the loop
        }
      }
      if (symbol) {
        converted += symbol;
        cur += testedPhoneme.length;
      }
      else {
        converted += text[cur]
        cur++;
      }
    }
    return converted
  }




 var maxLength2 = Object.keys(conversion2)
    .reduce((a, b) => a.length > b.length ? a : b) // get the longest word
    .length; // and it's length
  
  function convert2 (text) {
    var converted2 = "";
    var cur2 = 0;
    while (cur2 < text.length) {
      var testedPhoneme2;
      var symbol2 = undefined;
      for (var length = maxLength2; length > 0; length --) {
        testedPhoneme2 = text.substr(cur2, length);
        if (conversion2[testedPhoneme2]) {
          symbol2 = conversion2[testedPhoneme2];
          break; // stop the loop
        }
      }
      if (symbol2) {
        converted2 += symbol2;
        cur2 += testedPhoneme2.length;
      }
      else {
        converted2 += text[cur2]
        cur2++;
      }
    }
    return converted2
  }




  function onInputTextChange() {
    var txt = document.getElementById("input_textarea").value // added this
    var outputTextareaElem = document.getElementById("output_textarea");
    var div = document.createElement("div");
    var outputHtmlEntities = convert(txt);
    div.innerHTML = outputHtmlEntities;
    outputTextareaElem.value = div.innerText;
  }

  function onOutputTextChange() {
    var txt = document.getElementById("output_textarea").value // added this
    var outputTextareaElem2 = document.getElementById("output_textarea2");
    var div = document.createElement("div");
    var outputHtmlEntities2 = convert2(txt);
    div.innerHTML = outputHtmlEntities2;
    outputTextareaElem2.value = div.innerText;
  }


        function select() {
          const input = document.getElementById('input_textarea');
          input.focus();
          input.select();
        }   
        function copytext() {
          var copyText = document.getElementById("output_textarea");
          copyText.select();
          copyText.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

        function copytext2() {
          var copyText2 = document.getElementById("output_textarea2");
          copyText2.select();
          copyText2.setSelectionRange(0, 99999)
          document.execCommand("copy");
        }

    </script>
    
<style>
@import url(https://victorlee.github.io/fonts/stylesheet.css);
html {
font-family:arial
}
table {
  border-collapse: collapse;
  width: 90%;
}
td, th {
  border: 1px solid #AAA;
  text-align: center;
  padding: 1px;
}
.note {
  border: 1px solid #DDD;
  width: 30%;
  text-align: left;
  padding-left: 30px;
  padding-right: 30px;
  padding-top: 10px;
  padding-bottom: 10px;
}
.box {
  font-size: 1.8rem;
  display: inline-block;
  line-height: 1.2;
  width: 55px;
  border: 1px solid #888;
  min-height: 30px;
  padding: 3px;
  background-color: #eee;
  border-radius: 5px;
  font-family: vazirmatn;
}
</style>


</head>
<body>  

<body>  

<center><h1 class="text-center">Pashto typer</h1>
 
<center>
<table>
<thead>
<tr>
<th>	
<button onclick="copytext()">Copy text</button>
</th>
<th>
<button onclick="select('input_textarea')">Select all</button>
<button onclick="document.getElementById('input_textarea').value = ''">Clear</button>
</th>
<th style="width: 200px">Conversion table</th>
</tr>
</thead>
<tbody>
<tr>
<td>
<textarea oninput="onOutputTextChange()" style="line-height:1.3; width:95%;font-family:noto sans arabic;font-size:1.4rem; padding:6px" rows="7" dir="rtl" placeholder="output" 
 id="output_textarea"
></textarea>  
</td>
<td>
<textarea
id="input_textarea"
autofocus=""
placeholder="Input text here"
rows="10"
style="font-size:1.2rem;font-family:Arial;width:96%;"
oninput="onInputTextChange();onOutputTextChange()"></textarea>
  
</td>
<td>

<center>
<div style="overflow-y: scroll; height:250px; width:170px;font-family:noto sans arabic;font-size:1.3rem">


<table style="line-height:1.3;">
<thead>
<tr>
<th>in.</th>
<th>out.</th>
</tr>
</thead>
<tbody>
<tr>
<td>`</td>
<td>split</td>
</tr>
<tr>
<td>-</td>
<td>ـ</td>
</tr>
<tr>
<td>a</td>
<td>ا</td>
</tr>
<tr>
<td>aa</td>
<td>آ</td>
</tr>
<tr>
<td>b</td>
<td>ب</td>
</tr>
<tr>
<td>p</td>
<td>پ</td>
</tr>
<tr>
<td>t</td>
<td>ت</td>
</tr>
<tr>
<td>to</td>
<td>ټ</td>
</tr>
<tr>
<td>th</td>
<td>ث</td>
</tr>
<tr>
<td>j</td>
<td>ج</td>
</tr>
<tr>
<td>c</td>
<td>چ</td>
</tr>
<tr>
<td>H</td>
<td>ح</td>
</tr>
<tr>
<td>x</td>
<td>خ</td>
</tr>
<tr>
<td>ts</td>
<td>څ</td>
</tr>
<tr>
<td>dz</td>
<td>ځ</td>
</tr>
<tr>
<td>d</td>
<td>د</td>
</tr>
<tr>
<td>do</td>
<td>ډ</td>
</tr>
<tr>
<td>dh</td>
<td>ذ</td>
</tr>
<tr>
<td>r</td>
<td>ر</td>
</tr>
<tr>
<td>ro</td>
<td>ړ</td>
</tr>
<tr>
<td>z</td>
<td>ز</td>
</tr>
<tr>
<td>zh</td>
<td>ژ</td>
</tr>
<tr>
<td>R</td>
<td>ږ</td>
</tr>
<tr>
<td>s</td>
<td>س</td>
</tr>
<tr>
<td>sh</td>
<td>ش</td>
</tr>
<tr>
<td>X</td>
<td>ښ</td>
</tr>
<tr>
<td>S</td>
<td>ص</td>
</tr>
<tr>
<td>D</td>
<td>ض</td>
</tr>
<tr>
<td>T</td>
<td>ط</td>
</tr>
<tr>
<td>Z</td>
<td>ظ</td>
</tr>
<tr>
<td>C</td>
<td>ع</td>
</tr>
<tr>
<td>gh</td>
<td>غ</td>
</tr>
<tr>
<td>f</td>
<td>ف</td>
</tr>
<tr>
<td>q</td>
<td>ق</td>
</tr>
<tr>
<td>k</td>
<td>ک</td>
</tr>
<tr>
<td>ko, g</td>
<td>ګ</td>
</tr>
<tr>
<td>G</td>
<td>گ</td>
</tr>
<tr>
<td>l</td>
<td>ل</td>
</tr>
<tr>
<td>m</td>
<td>م</td>
</tr>
<tr>
<td>n</td>
<td>ن</td>
</tr>
<tr>
<td>no</td>
<td>ڼ</td>
</tr>
<tr>
<td>u, w</td>
<td>و</td>
</tr>
<tr>
<td>W</td>
<td>ؤ</td>
</tr>
<tr>
<td>h</td>
<td>ه</td>
</tr>
<tr>
<td>v</td>
<td>ۀ</td>
</tr>
<tr>
<td>i</td>
<td>ي</td>
</tr>
<tr>
<td>e</td>
<td>ې</td>
</tr>
<tr>
<td>y</td>
<td>ی</td>
</tr>
<tr>
<td>E</td>
<td>ے</td>
</tr>
<tr>
<td>Y</td>
<td>ۍ</td>
</tr>
<tr>
<td>&#39;y</td>
<td>ئ</td>
</tr>
<tr>
<td>A</td>
<td>َ</td>
</tr>
<tr>
<td>I</td>
<td>ِ</td>
</tr>
<tr>
<td>U</td>
<td>ُ</td>
</tr>
<tr>
<td>V</td>
<td>ٙ</td>
</tr>
<tr>
<td>,</td>
<td>،</td>
</tr>
<tr>
<td>;</td>
<td>؛</td>
</tr>
<tr>
<td>?</td>
<td>؟</td>
</tr>
<tr>
<td>0</td>
<td>۰</td>
</tr>
<tr>
<td>1</td>
<td>۱</td>
</tr>
<tr>
<td>2</td>
<td>۲</td>
</tr>
<tr>
<td>3</td>
<td>۳</td>
</tr>
<tr>
<td>4</td>
<td>۴</td>
</tr>
<tr>
<td>5</td>
<td>۵</td>
</tr>
<tr>
<td>6</td>
<td>۶</td>
</tr>
<tr>
<td>7</td>
<td>۷</td>
</tr>
<tr>
<td>8</td>
<td>۸</td>
</tr>
<tr>
<td>9</td>
<td>۹</td>
</tr>
</tbody>
</table>


</div>
</center>

</td>
</tr>
</tbody>
</table>
	<br>
<button onclick="copytext2()">Copy text</button><br>
	<textarea id="output_textarea2" style="width:500px;font-size:1.2rem;font-family:Arial;" rows="5" ></textarea>
	<p style="font-size:1.5rem">č ž š ḍ ṭ ṇ ṛ ǵ x̌ ā ə í é ú ó ә́ á ā́</p> 
</center>
</body>
</html>
